<!doctype html>

<html>
<head>
	<!-- Google Analytics Content Experiment code -->
	<script>function utmx_section(){}function utmx(){}(function(){var
		k='82936492-1',d=document,l=d.location,c=d.cookie;
		if(l.search.indexOf('utm_expid='+k)>0)return;
		function f(n){if(c){var i=c.indexOf(n+'=');if(i>-1){var j=c.
		indexOf(';',i);return escape(c.substring(i+n.length+1,j<0?c.
		length:j))}}}var x=f('__utmx'),xx=f('__utmxx'),h=l.hash;d.write(
		'<sc'+'ript src="'+'http'+(l.protocol=='https:'?'s://ssl':
		'://www')+'.google-analytics.com/ga_exp.js?'+'utmxkey='+k+
		'&utmx='+(x?x:'')+'&utmxx='+(xx?xx:'')+'&utmxtime='+new Date().
		valueOf()+(h?'&utmxhash='+escape(h.substr(1)):'')+
		'" type="text/javascript" charset="utf-8"><\/sc'+'ript>')})();
	</script><script>utmx('url','A/B');</script>
	<!-- End of Google Analytics Content Experiment code -->
	<title>ScheduleUs - View Events</title>	
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;" />
	<meta name="apple-mobile-web-app-capable" content="yes">
	<link href="/css/bootstrap.min.css" rel="stylesheet">
	<link href="/css/bootstrap-theme.min.css" rel="stylesheet">
	<link href="/css/introHCI.css" rel="stylesheet">     
</head>

<body>
		<!-- h1 through h6 are headers. The higher the number, the smaller the header -->
		<!-- p means paragraph -->
		<div class="table">
		    <div class="tr">
		        <div class="d1">
		        	<span class="btn-group">
						<a href="/">
							<button type="button" class="btn btn-default">
								<span class="glyphicon glyphicon-arrow-left"></span>
							</button>
						</a>
					</span>
		        </div>
		        <div class="d2">	
					<span class="header">
						<span class="btn-group">Events</span>
					</span>
		        </div>
		        <div class="d3">
		        	<a href="/view">
		        		<button type="button" class="btn btn-default">
							<span class="glyphicon glyphicon-refresh"></span>
						</button>
					</a>
				</div>
		    </div>
		</div>

		<!-- <a href="/edit">
		    <button id="edit" class="btn btn-primary btn-lg">Edit Event</button>
	    </a> -->

	    <!-- <div class="buttons">
			<a href="/readyToSchedule">
		    	<button id="create" class="btn btn-primary btn-lg">Confirmed Events</button>
		    </a>
			<a href="/invitations">
		    	<button id="view" class="btn btn-primary btn-lg">My Invites</button>
		    </a>
		</div> -->

	<div class="container">
	<!-- 	<div id="content">
      		<ul id="tabs" class="nav nav-tabs" data-tabs="tabs">
          		<li class="active"><a href="#schedule" data-toggle="tab">my events</a></li>
          		<li><a href="#tentative" data-toggle="tab">tentative</a></li>
          		<li><a href="#history" data-toggle="tab">history</a></li>
      		</ul>
      		<br>
      		<div id="my-tab-content" class="tab-content">
          		<div class="tab-pane active" id="schedule">
					<div class="table">
						{{#each toSchedule}}
						    <div class="tr">
						        <div class="d12 clickable" id="host{{id}}">	
									<span class="list">
										<span class="btn-group">Your event {{eventName}} at {{eventLocation}} is ready to schedule!</span>
									</span>
						        </div>
						        <div class="d13">
						        	<a href="/schedule/{{id}}">
							        	<button id="{{id}}" class="btn btn-primary">Schedule!</button>
							        </a>
						        </div>
						    </div>
						    <hr>

						    <div id="modal-dialog{{id}}" class="modal">
							    <div class="modal-dialog">
							      <div class="modal-content">
							        <div class="modal-header">
							        	<a href="/view" data-dismiss="modal" aria-hidden="true" class="close">×</a>
							             <h3>Event Details</h3>
							        </div>
							        <div class="modal-body">
							             <p>{{eventName}} at {{eventLocation}} for {{eventDuration}} hours.</p>
							        </div>
							        <div class="modal-footer">
							          <a href="/edit/{{id}}">
									    	<button class="btn btn-primary">Edit</button>
									    </a>
									    <a href="/delete/{{id}}">
									    	<button class="btn btn-primary">Delete</button>
									    </a>
							        </div>
							      </div>
							    </div>
							</div>
						{{/each}}
						{{#each awaitingConfirmation}}
						    <div class="tr clickable" id="host{{id}}">
						        <div class="d12">	
									<span class="list">
										<span class="btn-group">Your event {{eventName}} at {{eventLocation}} is awaiting confirmation from all guests.</span>
									</span>
						        </div>
						        <div class="d13">
						        	<button type="button" class="btn btn-primary" disabled>Schedule!</button>
						        </div>
						    </div>
						    <hr>

						    <div id="modal-dialog{{id}}" class="modal">
							    <div class="modal-dialog">
							      <div class="modal-content">
							        <div class="modal-header">
							        	<a href="/view" data-dismiss="modal" aria-hidden="true" class="close">×</a>
							             <h3>Event Details</h3>
							        </div>
							        <div class="modal-body">
							             <p>{{eventName}} at {{eventLocation}} for {{eventDuration}} hours.</p>
							        </div>
							        <div class="modal-footer">
							        	<a href="/edit/{{id}}">
									    	<button class="btn btn-primary">Edit</button>
									    </a>
									    <a href="/delete/{{id}}">
									    	<button class="btn btn-primary">Delete</button>
									    </a>
							        </div>
							      </div>
							    </div>
							</div>
						{{/each}}
					</div>
          		</div>
          		<div class="tab-pane" id="tentative">
	          		<div class="table">
	            		{{#each invites}}
	                		<div class="tr">
	                    		<div class="d12"> 
	                  				<span class="list">
	                    			<span class="btn-group">{{organizer}} invited you to {{eventName}} at {{eventLocation}} for {{eventDuration}} hours!</span>
	                  				</span>
	                    		</div>
	                        	<div class="d13">
	                          			<input href="#modal-dialog1{{id}}" data-toggle="modal" type="button" class="btn btn-success btn-mini" value="✓">
	                          			<input href="#modal-dialog2{{id}}" data-toggle="modal" type="button" class="btn btn-danger btn-mini" value="✗">
	                       		</div>
	                		</div>
	                		<hr>


	                		<div id="modal-dialog1{{id}}" class="modal">
							    <div class="modal-dialog">
							      <div class="modal-content">
							        <div class="modal-header">
							             <h3>Confirm Event?</h3>
							        </div>
							        <div class="modal-body">
							             <p>You are about to confirm this event. This means that once all of the invites have been accepted, the organizer will be able to see the availabilities in everyone's calendars and select a time that works for everyone.</p>
							        </div>
							        <div class="modal-footer">
							          <a href="/confirm/{{id}}"  id="btnConfirm" class="btn confirm">OK</a> 
							          <a href="#" data-dismiss="modal" aria-hidden="true" class="btn secondary">Cancel</a>
							        </div>
							      </div>
							    </div>
							</div>

							<div id="modal-dialog2{{id}}" class="modal">
							    <div class="modal-dialog">
							      <div class="modal-content">
							        <div class="modal-header">
							             <h3>Reject Event?</h3>
							        </div>
							        <div class="modal-body">
							             <p>Are you sure you would like to reject the invitation to this event?</p>
							        </div>
							        <div class="modal-footer">
							          <a href="/reject/{{id}}"  id="btnConfirm" class="btn confirm">Yes</a> 
							          <a href="#" data-dismiss="modal" aria-hidden="true" class="btn secondary">Cancel</a>
							        </div>
							      </div>
							    </div>
							</div>
	            		{{/each}}
	            		{{#each pending}}
	                		<div class="tr">
	                    		<div class="d12"> 
	                  				<span class="list">
	                    				<span class="btn-group">{{organizer}} invited you to {{eventName}} at {{eventLocation}} for {{eventDuration}} hours!</span>
	                  				</span>
	                    		</div>
	                        	<div class="d3">
	                            	<button type="button" class="btn btn-success" disabled>✓</button>
	                       		</div>
	                		</div>
	                		<hr>
	            		{{/each}}
	          		</div>
          		</div>

	          	<div class="tab-pane" id="history">
	              	<div class="table">
	            		{{#each history}}
	                		<div class="tr" style="text-align: center">
	                  				<span class="list">
	                    				<span class="btn-group">{{eventName}} at {{eventLocation}} for {{eventDuration}} hours.</span>
	                  				</span>
		 	                	</div>
	                		<hr>
	            		{{/each}}
	          		</div>
	          	</div>
      		</div>
  		</div> -->

  		<div class="panel-group" id="accordion">
		  <div class="panel panel-default">
		    <div class="panel-heading">
		    	<a data-toggle="collapse" href="#collapseOne">
			      <h4 class="panel-title">
			          Events I'm Hosting <span class="alert">{{#if toSchedule.length}}({{toSchedule.length}}){{/if}} </span>
			      </h4>
		      	</a>
		    </div>
		    <div id="collapseOne" class="panel-collapse collapse in">
		      <div class="panel-body">
		        <div class="table">
						{{#each toSchedule}}
						    <div class="tr">
						        <div class="d12 clickable" id="host{{id}}">	
									<span class="list">
										<span class="btn-group">Your event {{eventName}} at {{eventLocation}} is ready to schedule! <span class="glyphicon glyphicon-pencil"></span></span>
									</span>
						        </div>
						        <div class="d13">
						        	<a href="/schedule/{{id}}">
							        	<button data-prevtime="{{../prevTime}}" id="{{id}}" class="btn btn-primary schedule" style="width: 87px;">Schedule!</button>
							        </a>
						        </div>
						    </div>
						    {{#unless @last}}<hr>{{/unless}}
						    <div id="modal-dialog{{id}}" class="modal">
							    <div class="modal-dialog">
							      <div class="modal-content">
							        <div class="modal-header">
							        	<a href="/view" data-dismiss="modal" aria-hidden="true" class="close">×</a>
							             <h3>Event Details</h3>
							        </div>
							        <div class="modal-body">
							             <p>{{eventName}} at {{eventLocation}} for {{eventDuration}} hours.</p>
							        </div>
							        <div class="modal-footer">
							          <a href="/edit/{{id}}">
									    	<button class="btn btn-primary">Edit</button>
									    </a>
									    <a href="/delete/{{id}}">
									    	<button class="btn btn-primary">Delete</button>
									    </a>
							        </div>
							      </div>
							    </div>
							</div>
						{{/each}}
						{{#if awaitingConfirmation.length}}
							{{#if toSchedule.length}}
								<hr>
							{{/if}}
						{{/if}}
						{{#each awaitingConfirmation}}
						    <div class="tr clickable" id="host{{id}}">
						        <div class="d12">	
									<span class="list">
										<span class="btn-group">Your event {{eventName}} at {{eventLocation}} is awaiting confirmation from all guests. <span class="glyphicon glyphicon-pencil"></span></span>
									</span>
						        </div>
						        <div class="d13">
						        	<button type="button" class="btn btn-primary" style="width: 87px;" disabled>Schedule!</button>
						        	
						        </div>
						    </div>
						    {{#unless @last}}<hr>{{/unless}}
						    <div id="modal-dialog{{id}}" class="modal">
							    <div class="modal-dialog">
							      <div class="modal-content">
							        <div class="modal-header">
							        	<a href="/view" data-dismiss="modal" aria-hidden="true" class="close">×</a>
							            <h3>Event Details</h3>
							        </div>
							        <div class="modal-body">
							             <p>{{eventName}} at {{eventLocation}} for {{eventDuration}} hours.</p>
							        </div>
							        <div class="modal-footer">
							        	<a href="/edit/{{id}}">
									    	<button class="btn btn-primary">Edit</button>
									    </a>
									    <a href="/delete/{{id}}">
									    	<button class="btn btn-primary">Delete</button>
									    </a>
							        </div>
							      </div>
							    </div>
							</div>
						{{/each}}
						{{#unless toSchedule.length}}
							{{#unless awaitingConfirmation.length}}
								<p>You have not created any events yet.</p>
							{{/unless}}
						{{/unless}}
					</div>
		      </div>
		    </div>
		  </div>
		  <div class="panel panel-default">
		    <div class="panel-heading">
		    	<a data-toggle="collapse" href="#collapseTwo">
			      <h4 class="panel-title">
			          My Invites <span class="alert"> {{#if invites.length}}({{invites.length}}){{/if}} </span>
			      </h4>
		      	</a>
		    </div>
		    <div id="collapseTwo" class="panel-collapse collapse in">
		      <div class="panel-body">
		        <div class="table">
            		{{#each invites}}
                		<div class="tr">
                    		<div class="d12"> 
                  				<span class="list">
                    			<span class="btn-group">{{organizer}} invited you to {{eventName}} at {{eventLocation}} for {{eventDuration}} hours!</span>
                  				</span>
                    		</div>
                        	<div class="d14">
                          			<input href="#modal-dialog1{{id}}" data-toggle="modal" data-prevtime="{{../prevTime}}" type="button" class="btn btn-success btn-mini accept" value="✓">
                          			<input href="#modal-dialog2{{id}}" data-toggle="modal" data-prevtime="{{../prevTime}}" type="button" class="btn btn-danger btn-mini reject" value="✗">
                       		</div>
                		</div>
                		{{#unless @last}}<hr>{{/unless}}
                		<div id="modal-dialog1{{id}}" class="modal">
						    <div class="modal-dialog">
						      <div class="modal-content">
						        <div class="modal-header">
						             <h3>Confirm Event?</h3>
						        </div>
						        <div class="modal-body">
						             <p>You are about to confirm this event. This means that once all of the invites have been accepted, the organizer will be able to see the availabilities in everyone's calendars and select a time that works for everyone.</p>
						        </div>
						        <div class="modal-footer">
						          <a href="/confirm/{{id}}"  id="btnConfirm" class="btn confirm">OK</a> 
						          <a href="#" data-dismiss="modal" aria-hidden="true" class="btn secondary">Cancel</a>
						        </div>
						      </div>
						    </div>
						</div>
						<div id="modal-dialog2{{id}}" class="modal">
						    <div class="modal-dialog">
						      <div class="modal-content">
						        <div class="modal-header">
						             <h3>Reject Event?</h3>
						        </div>
						        <div class="modal-body">
						             <p>Are you sure you would like to reject the invitation to this event?</p>
						        </div>
						        <div class="modal-footer">
						          <a href="/reject/{{id}}"  id="btnConfirm" class="btn confirm">Yes</a> 
						          <a href="#" data-dismiss="modal" aria-hidden="true" class="btn secondary">Cancel</a>
						        </div>
						      </div>
						    </div>
						</div>
            		{{/each}}
            		{{#if pending.length}}
            			{{#if invites.length}}
							<hr>
						{{/if}}
            		{{/if}}
            		{{#each pending}}
                		<div class="tr">
                    		<div class="d12"> 
                  				<span class="list">
                    				<span class="btn-group">{{organizer}} invited you to {{eventName}} at {{eventLocation}} for {{eventDuration}} hours!</span>
                  				</span>
                    		</div>
                        	<div class="d13">
                            	<button type="button" class="btn btn-success" disabled>✓</button>
                       		</div>
                		</div>
                		{{#unless @last}}<hr>{{/unless}}
            		{{/each}}
            		{{#unless invites.length}}
						{{#unless pending.length}}
							<p>You have not been invited to any events.</p>
						{{/unless}}
					{{/unless}}
          		</div>
		      </div>
		    </div>
		  </div>
		  <div class="panel panel-default">
		    <div class="panel-heading">
		    	<a data-toggle="collapse" href="#collapseThree">
			      <h4 class="panel-title">
			          Past Events
			      </h4>
		      	</a>
		    </div>
		    <div id="collapseThree" class="panel-collapse collapse in">
		      <div class="panel-body">
		        <div class="table">
            		{{#each history}}
                		<div class="tr" style="text-align: center">
              				<span class="list">
                				<span class="btn-group">{{eventName}} at {{eventLocation}} for {{eventDuration}} hours.</span>
              				</span>
 	                	</div>
                		{{#unless @last}}<hr>{{/unless}}
            		{{/each}}
					{{#unless history.length}}
						<p>You don't have any past events.</p>
					{{/unless}}
          		</div>
		      </div>
		    </div>
		  </div>
		</div>

		<script type="text/javascript">
    		// jQuery(document).ready(function ($) {
      //   		$('#tabs').tab();
    		// });
		</script>

	</div>

	<script src="https://code.jquery.com/jquery.js"></script>
	<script src="/js/bootstrap.min.js"></script>
	<script src="/js/viewEvents.js"></script>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-48457535-2', 'scheduleus.herokuapp.com');
	  // ga('create', 'UA-48457535-2', { 'cookieDomain': 'none' });
	  ga('send', 'pageview');

	</script>
	<!-- // <script src="/js/introHCI.js"></script> -->
</body>
</html>
